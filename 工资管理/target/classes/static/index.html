<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script type="text/javascript" src="../layui/layui.js"></script>
</head>
<body class="layui-layout-body">
  <div class="layui-layout layui-layout-admin">
    <div class="layui-header">
      <div class="layui-logo">工资管理系统</div>
      <ul class="layui-nav">
        <li class="layui-nav-item">
          <input type="text" class="layui-input" style="margin-top:1px;margin-left:200px;width:200px"  placeholder="输入月份查询">
        </li>
        <li class="layui-nav-item">
          <button class="layui-btn" style="margin-left:20px" id="findmonth">查询</button>
        </li>
      </ul>
      <ul class="layui-nav layui-layout-right">
        <li class="layui-nav-item">
          <input type="text" class="layui-input" style="margin-top:1px"  placeholder="输入工人编号查询">
        </li>
        <li class="layui-nav-item">
          <button class="layui-btn" style="margin-left:20px" id="find">查询</button>
        </li>
        <li class="layui-nav-item">
          <button class="layui-btn" style="margin-left:20px" id="insert">新增工人</button>
        </li>
      </ul>
    </div>
    <div class="layui-body" style="margin-left:-200px">
      <table class="layui-hide" id="test" lay-filter="test"></table>
    </div>
    <div class="layui-footer" style="margin-left:-200px">底部固定区域</div>
  </div>
</body>
<script>
  var tableInit = function(url){//url代表的是渲染表格的请求路径
    layui.use('table', function(){
      var $ = layui.$;
      var table = layui.table;
      table.render({
        elem: '#test'
        ,url: url
        ,parseData: function(res){
            return {
              "code": 0,
              "msg": "OK",
              "count": $.ajax({
                url:"http://localhost:8089/show/count",
              }),
              "data": res
            };
        }
        ,cellMinWidth: 80
        ,cols: [[
          {field:'id', width:100, title: '编号', sort: true}
          ,{field:'name', width:100, title: '姓名',sort: true}
          ,{field:'photo', width:100, title: '照片',templet: '#titleTpl'}
          ,{field:'age', width:100, title: '年龄',sort: true}
          ,{field:'phone', width:120, title: '电话'}
          ,{field:'salary', width:100, title: '月工资',sort: true}
          ,{field:'overtime_type', width:100, title: '加班类型'}
          ,{field:'overtime_days', width:120, title: '加班天数',sort: true}
          ,{field:'subsidy', width:100, title: '津贴',sort: true}
          ,{field:'kind', width:100, title: '工种',sort: true}
          ,{field:'level', width:100, title: '等级',sort: true}
          ,{field:'department', width:100, title: '部门',sort: true}
          ,{field:'basic_salary', width:120, title: '基本工资',sort: true}
          ,{fixed: 'right', width:150, align:'center', toolbar: '#barDemo'}
        ]]
      });

    });
  }
  tableInit("http://www.localhost:8089/show/findAll");
</script>
</html>